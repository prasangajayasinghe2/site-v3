<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>3D Design & CAD — Akila Prasanga</title>
<link href="https://fonts.googleapis.com/css2?family=Bebas+Neue&family=DM+Mono:wght@300;400;500&family=Barlow:wght@300;400;600&family=Rajdhani:wght@400;600;700&display=swap" rel="stylesheet">
<style>
  :root {
    --black: #050608;
    --dark: #0a0c10;
    --panel: #0e1117;
    --border: #1a2030;
    --steel: #1e2d45;
    --blue: #2563eb;
    --blue-bright: #3b82f6;
    --cyan: #06b6d4;
    --text: #e2e8f0;
    --muted: #64748b;
    --dim: #334155;
  }

  * { margin: 0; padding: 0; box-sizing: border-box; }
  html { scroll-behavior: smooth; }

  body {
    background: var(--black);
    color: var(--text);
    font-family: 'Barlow', sans-serif;
    overflow-x: hidden;
    cursor: none;
  }

  body::before {
    content: '';
    position: fixed;
    inset: 0;
    background-image:
      linear-gradient(rgba(37,99,235,0.03) 1px, transparent 1px),
      linear-gradient(90deg, rgba(37,99,235,0.03) 1px, transparent 1px);
    background-size: 60px 60px;
    pointer-events: none;
    z-index: 0;
  }

  .cursor { position: fixed; width: 8px; height: 8px; background: var(--cyan); border-radius: 50%; pointer-events: none; z-index: 9999; transform: translate(-50%,-50%); }
  .cursor-ring { position: fixed; width: 32px; height: 32px; border: 1px solid rgba(6,182,212,0.4); border-radius: 50%; pointer-events: none; z-index: 9998; transform: translate(-50%,-50%); transition: width 0.2s, height 0.2s; }

  /* NAV */
  nav {
    position: fixed; top: 0; left: 0; right: 0; z-index: 200;
    display: flex; justify-content: center; align-items: center;
    padding: 20px 60px;
    height: 61px;
    border-bottom: 1px solid var(--border);
    background: rgba(5,6,8,0.9);
    backdrop-filter: blur(12px);
  }
  .nav-links { display: flex; gap: 56px; list-style: none; }
  .nav-links a { font-family: 'DM Mono'; font-size: 14px; letter-spacing: 2px; text-transform: uppercase; color: var(--muted); text-decoration: none; transition: color 0.2s; }
  .nav-links a:hover, .nav-links a.active { color: var(--cyan); }

  .nav-toggle {
    display: none;
    flex-direction: column;
    gap: 5px;
    background: none;
    border: none;
    cursor: pointer;
    padding: 4px;
    position: absolute;
    right: 24px;
  }
  .nav-toggle span { display: block; width: 22px; height: 1.5px; background: var(--muted); transition: background 0.2s; }
  .nav-toggle:hover span { background: var(--cyan); }

  .page-wrap {
    display: flex;
    min-height: 100vh;
    padding-top: 61px;
    position: relative;
    z-index: 1;
  }

  .main-content {
    flex: 1;
    min-width: 0;
    padding: 0 60px 100px;
    position: relative;
    z-index: 2;
    background: var(--black);
    max-width: 1400px;
    margin: 0 auto;
    width: 100%;
  }

  .back-link {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    width: 44px; height: 44px;
    border: 1px solid var(--border);
    color: var(--cyan);
    text-decoration: none;
    font-size: 20px;
    margin: 40px 0 20px;
    transition: border-color 0.2s, background 0.2s, transform 0.2s;
    background: transparent;
  }
  .back-link:hover { border-color: var(--cyan); background: rgba(6,182,212,0.08); transform: translateX(-3px); }

  .page-header {
    padding: 20px 0 50px;
    border-bottom: 1px solid var(--border);
    margin-bottom: 60px;
    position: relative;
  }
  .page-tag {
    font-family: 'DM Mono'; font-size: 11px; letter-spacing: 4px; text-transform: uppercase;
    color: var(--cyan); margin-bottom: 16px;
    display: flex; align-items: center; gap: 12px;
    opacity: 0; animation: fadeUp 0.7s 0.1s forwards;
  }
  .page-tag::before { content: ''; width: 40px; height: 1px; background: var(--cyan); }
  .page-title {
    font-family: 'Bebas Neue'; font-size: clamp(48px, 7vw, 96px);
    letter-spacing: 3px; line-height: 0.9; color: var(--text);
    opacity: 0; animation: fadeUp 0.7s 0.2s forwards;
  }
  .page-sub {
    font-family: 'DM Mono'; font-size: 10px; letter-spacing: 2px; text-transform: uppercase;
    color: var(--muted); margin-top: 16px;
    opacity: 0; animation: fadeUp 0.7s 0.25s forwards;
  }
  .cat-tools {
    display: flex; gap: 8px; flex-wrap: wrap; margin-top: 20px;
    opacity: 0; animation: fadeUp 0.7s 0.3s forwards;
  }
  .tool-badge {
    font-family: 'DM Mono'; font-size: 9px; letter-spacing: 1.5px; text-transform: uppercase;
    color: var(--blue-bright); border: 1px solid rgba(59,130,246,0.3);
    padding: 5px 12px;
  }

  /* PROJECTS GRID */
  .projects-grid {
    display: grid; grid-template-columns: repeat(2, 1fr); gap: 24px;
    opacity: 0; animation: fadeUp 0.7s 0.35s forwards;
  }

  .project-card {
    background: var(--panel); overflow: hidden; cursor: none;
    position: relative; transition: background 0.3s, border-color 0.3s;
    border: 1px solid var(--border);
    text-decoration: none;
    display: block;
    color: inherit;
  }
  .project-card:hover { background: var(--steel); border-color: var(--blue); }

  .project-card-media {
    position: relative; height: 280px; overflow: hidden;
    background: var(--dark);
  }

  /* Static preview: video poster / image — no autoplay */
  .preview-media {
    width: 100%; height: 100%;
    object-fit: cover;
    opacity: 0.7;
    display: block;
    pointer-events: none; /* no interaction, static preview only */
  }

  /* Fallback placeholder when no media exists */
  .media-placeholder-fallback {
    width: 100%; height: 100%;
    display: flex; align-items: center; justify-content: center;
    position: relative;
  }
  .media-ph-1 { background: linear-gradient(135deg, #0a0c10, #0e1a2e); }
  .media-ph-2 { background: linear-gradient(135deg, #0a0c10, #0e1a1e); }
  .media-ph-3 { background: linear-gradient(135deg, #0a0c10, #0e1e1a); }
  .media-ph-4 { background: linear-gradient(135deg, #0a0c10, #1a1a0e); }
  .media-ph-5 { background: linear-gradient(135deg, #0a0c10, #1a0e1a); }

  /* SVG icon shown in fallback */
  .ph-icon {
    width: 64px; height: 64px; opacity: 0.15;
    stroke: var(--cyan); fill: none; stroke-width: 1.5;
  }

  .media-label {
    position: absolute; bottom: 12px; left: 12px;
    font-family: 'DM Mono'; font-size: 9px; letter-spacing: 2px; text-transform: uppercase;
    color: var(--cyan); background: rgba(5,6,8,0.8); padding: 5px 10px;
    display: flex; align-items: center; gap: 6px;
    z-index: 2;
  }
  .media-label.has-video::before { content: '▶'; font-size: 7px; }
  .media-label.has-image::before { content: '◼'; font-size: 7px; }

  .card-overlay {
    position: absolute; inset: 0;
    background: rgba(37,99,235,0.08);
    display: flex; align-items: center; justify-content: center;
    opacity: 0; transition: opacity 0.3s;
    z-index: 3;
  }
  .project-card:hover .card-overlay { opacity: 1; }
  .overlay-text {
    font-family: 'Bebas Neue'; font-size: 18px; letter-spacing: 3px;
    color: var(--cyan); border: 1px solid var(--cyan); padding: 12px 24px;
    transform: translateY(8px); transition: transform 0.3s;
  }
  .project-card:hover .overlay-text { transform: translateY(0); }

  .project-card-body { padding: 32px; }
  .project-card-num {
    font-family: 'DM Mono'; font-size: 10px; letter-spacing: 2px; text-transform: uppercase;
    color: var(--dim); margin-bottom: 12px;
  }
  .project-card-title {
    font-family: 'Bebas Neue'; font-size: 32px; letter-spacing: 2px; color: var(--text);
    margin-bottom: 12px; line-height: 1.1;
  }
  .project-card-desc {
    font-size: 13px; color: var(--muted); line-height: 1.7; font-weight: 300;
    margin-bottom: 20px;
  }
  .project-card-footer {
    display: flex; justify-content: space-between; align-items: center;
    padding-top: 16px; border-top: 1px solid var(--border);
  }
  .project-tags { display: flex; gap: 6px; flex-wrap: wrap; }
  .project-tag {
    font-family: 'DM Mono'; font-size: 9px; letter-spacing: 1px; text-transform: uppercase;
    color: var(--muted); border: 1px solid var(--dim); padding: 3px 8px;
  }
  .card-arrow {
    font-family: 'DM Mono'; font-size: 18px; color: var(--blue-bright);
    transition: transform 0.2s;
  }
  .project-card:hover .card-arrow { transform: translate(4px, -4px); }

  @keyframes fadeUp {
    from { opacity: 0; transform: translateY(20px); }
    to { opacity: 1; transform: translateY(0); }
  }

  ::-webkit-scrollbar { width: 4px; }
  ::-webkit-scrollbar-track { background: var(--black); }
  ::-webkit-scrollbar-thumb { background: var(--blue); }

  /* MOBILE RESPONSIVE */
  @media (max-width: 900px) {
    nav { justify-content: center; padding: 0 24px; position: fixed; }
    .nav-toggle { display: flex; }
    .nav-links {
      display: none; flex-direction: column; gap: 0;
      position: absolute; top: 61px; left: 0; right: 0;
      background: rgba(5,6,8,0.97); backdrop-filter: blur(12px);
      border-bottom: 1px solid var(--border); padding: 16px 0; z-index: 300;
    }
    .nav-links.open { display: flex; }
    .nav-links li { width: 100%; }
    .nav-links a { display: block; padding: 14px 24px; font-size: 12px; letter-spacing: 2px; }
    .main-content { padding: 0 20px 60px; }
    .back-link { margin: 20px 0 10px; }
    .page-header { padding: 20px 0 30px; margin-bottom: 40px; }
    .page-title { font-size: clamp(40px, 10vw, 64px); }
    .projects-grid { grid-template-columns: 1fr; gap: 20px; }
    .project-card-media { height: 220px; }
    .project-card-body { padding: 24px; }
    .project-card-title { font-size: 28px; }
  }

  @media (max-width: 480px) {
    .project-tags { flex-wrap: wrap; }
    .project-card-footer { flex-direction: column; align-items: flex-start; gap: 12px; }
    .card-arrow { align-self: flex-end; }
  }
</style>
</head>
<body>

<div class="cursor" id="cursor"></div>
<div class="cursor-ring" id="cursorRing"></div>

<nav>
  <button class="nav-toggle" id="navToggle" aria-label="Toggle menu">
    <span></span><span></span><span></span>
  </button>
  <ul class="nav-links" id="navLinks">
    <li><a href="index.html">About</a></li>
    <li><a href="projects.html" class="active">Projects</a></li>
    <li><a href="#">Research</a></li>
    <li><a href="#">Case Studies</a></li>
  </ul>
</nav>

<div class="page-wrap">
  <div class="main-content">
    <a class="back-link" href="projects_file.html" title="Back to Projects">←</a>

    <div class="page-header">
      <div class="page-tag">Engineering Projects</div>
      <h1 class="page-title">3D Design & CAD</h1>
    </div>

    <div class="projects-grid">

      <!-- PROJECT 1 — Smart Box with Rotating Mechanism for Blind Person Cane -->
      <a class="project-card" href="3D Design & CAD/project 1/project1.html">
        <div class="project-card-media">
          <!-- Static video thumbnail (no autoplay, no controls) -->
          <img class="preview-media"
            src="3D Design & CAD/project 1/photo 1.png"
            alt="Smart Box with Rotating Mechanism for Blind Person Cane preview"
            loading="lazy">
          <div class="card-overlay"><div class="overlay-text">View Project</div></div>
          <div class="media-label has-image">3D Model + Photo</div>
        </div>
        <div class="project-card-body">
          <div class="project-card-num">CAD — 001</div>
          <div class="project-card-title">Smart Box with Rotating Mechanism for Blind Person Cane</div>
          <p class="project-card-desc">A specially designed smart box featuring a rotating mechanism, engineered to assist blind individuals. The assembly integrates precise rotational motion for ease of use and accessibility.</p>
          <div class="project-card-footer">
            <div class="project-tags">
              <span class="project-tag">SolidWorks</span>
              <span class="project-tag">Assembly</span>
              <span class="project-tag">Mechanism</span>
            </div>
            <span class="card-arrow">↗</span>
          </div>
        </div>
      </a>

      <!-- PROJECT 2 — Ship Design for Scale Model -->
      <a class="project-card" href="3D Design & CAD/project 2/project2.html">
        <div class="project-card-media">
          <!-- Static image preview -->
          <img class="preview-media"
            src="3D Design & CAD/project 2/photo 1.jpg"
            alt="Ship Design for Scale Model preview"
            loading="lazy">
          <div class="card-overlay"><div class="overlay-text">View Project</div></div>
          <div class="media-label has-image">3D Model + Photo</div>
        </div>
        <div class="project-card-body">
          <div class="project-card-num">CAD — 002</div>
          <div class="project-card-title">Ship Design for Scale Model</div>
          <p class="project-card-desc">A detailed 3D model of a ship hull and superstructure designed for scale model production. Focused on accurate proportions, surface continuity, and structural form.</p>
          <div class="project-card-footer">
            <div class="project-tags">
              <span class="project-tag">SolidWorks</span>
              <span class="project-tag">Surface Modeling</span>
              <span class="project-tag">Scale Model</span>
            </div>
            <span class="card-arrow">↗</span>
          </div>
        </div>
      </a>

      <!-- PROJECT 3 — Box Design for Smart Cane -->
      <a class="project-card" href="3D Design & CAD/project 3/project3.html">
        <div class="project-card-media">
          <!-- Static video thumbnail -->
          <video class="preview-media"
            src="3D Design & CAD/project 3/assembly video 1.mp4"
            preload="metadata"
            muted
            playsinline>
          </video>
          <div class="card-overlay"><div class="overlay-text">View Project</div></div>
          <div class="media-label has-video">CAD + Video</div>
        </div>
        <div class="project-card-body">
          <div class="project-card-num">CAD — 003</div>
          <div class="project-card-title">Box Design for Smart Cane</div>
          <p class="project-card-desc">An enclosure designed specifically to house the electronics and components of a smart cane. Engineered for compact form, secure fitment, and clean assembly integration.</p>
          <div class="project-card-footer">
            <div class="project-tags">
              <span class="project-tag">SolidWorks</span>
              <span class="project-tag">Enclosure</span>
              <span class="project-tag">Product Design</span>
            </div>
            <span class="card-arrow">↗</span>
          </div>
        </div>
      </a>

      <!-- PROJECT 4 — DIN Rail Box Design -->
      <a class="project-card" href="3D Design & CAD/project 4/project4.html">
        <div class="project-card-media">
          <!-- Static video thumbnail -->
          <video class="preview-media"
            src="3D Design & CAD/project 4/assembly video 1.mp4"
            preload="metadata"
            muted
            playsinline>
          </video>
          <div class="card-overlay"><div class="overlay-text">View Project</div></div>
          <div class="media-label has-video">CAD + Video</div>
        </div>
        <div class="project-card-body">
          <div class="project-card-num">CAD — 004</div>
          <div class="project-card-title">DIN Rail Box Design</div>
          <p class="project-card-desc">A DIN rail-mountable enclosure designed for industrial and electrical panel applications. Engineered for precise snap-fit mounting, cable management, and compact component housing.</p>
          <div class="project-card-footer">
            <div class="project-tags">
              <span class="project-tag">SolidWorks</span>
              <span class="project-tag">Industrial</span>
              <span class="project-tag">DIN Rail</span>
            </div>
            <span class="card-arrow">↗</span>
          </div>
        </div>
      </a>

      <!-- PROJECT 5 — EMO Robot Design -->
      <a class="project-card" href="3D Design & CAD/project 5/project5.html">
        <div class="project-card-media">
          <!-- Static video thumbnail -->
          <video class="preview-media"
            src="3D Design & CAD/project 5/assembly video 1.mp4"
            preload="metadata"
            muted
            playsinline>
          </video>
          <div class="card-overlay"><div class="overlay-text">View Project</div></div>
          <div class="media-label has-video">CAD + Video</div>
        </div>
        <div class="project-card-body">
          <div class="project-card-num">CAD — 005</div>
          <div class="project-card-title">EMO Robot Design</div>
          <p class="project-card-desc">A fully modelled EMO-style desktop robot, capturing expressive character design and mechanical structure. Designed with attention to body proportions, joint articulation, and aesthetic personality.</p>
          <div class="project-card-footer">
            <div class="project-tags">
              <span class="project-tag">SolidWorks</span>
              <span class="project-tag">Robotics</span>
              <span class="project-tag">Character Design</span>
            </div>
            <span class="card-arrow">↗</span>
          </div>
        </div>
      </a>

    </div>
  </div>
</div>

<script>
document.getElementById('navToggle').addEventListener('click', () => {
  document.getElementById('navLinks').classList.toggle('open');
});

const cursor = document.getElementById('cursor');
const ring = document.getElementById('cursorRing');
let mx=0,my=0,rx=0,ry=0;
document.addEventListener('mousemove',e=>{
  mx=e.clientX; my=e.clientY;
  cursor.style.left=mx+'px'; cursor.style.top=my+'px';
});
(function animateRing(){
  rx+=(mx-rx)*0.12; ry+=(my-ry)*0.12;
  ring.style.left=rx+'px'; ring.style.top=ry+'px';
  requestAnimationFrame(animateRing);
})();

if (window.innerWidth <= 900) {
  cursor.style.display = 'none';
  ring.style.display = 'none';
}

document.querySelectorAll('a,button,.project-card').forEach(el=>{
  el.addEventListener('mouseenter',()=>{
    if (window.innerWidth > 900) { ring.style.width='48px'; ring.style.height='48px'; }
  });
  el.addEventListener('mouseleave',()=>{
    if (window.innerWidth > 900) { ring.style.width='32px'; ring.style.height='32px'; }
  });
});

// Intersection observer for scroll-in animation
const observer = new IntersectionObserver(entries => {
  entries.forEach(e => {
    if(e.isIntersecting){ e.target.style.opacity='1'; e.target.style.transform='translateY(0)'; }
  });
}, { threshold: 0.05 });

document.querySelectorAll('.project-card').forEach((el,i)=>{
  el.style.opacity='0';
  el.style.transform='translateY(20px)';
  el.style.transition=`opacity 0.5s ${i*0.1}s ease, transform 0.5s ${i*0.1}s ease, background 0.3s`;
  observer.observe(el);
});

// Seek video previews to show a meaningful frame instead of black
document.querySelectorAll('video.preview-media').forEach(v => {
  const seekTo = 0.5;

  function doSeek() {
    v.currentTime = seekTo;
  }

  // Try to seek as soon as enough metadata is loaded
  if (v.readyState >= 1) {
    doSeek();
  } else {
    v.addEventListener('loadedmetadata', doSeek, { once: true });
  }

  // After seeking, ensure the frame is painted
  v.addEventListener('seeked', () => {
    v.style.opacity = '0.7';
  }, { once: true });

  // If the video fails to load entirely, show the fallback placeholder
  v.addEventListener('error', () => {
    const media = v.closest('.project-card-media');
    if (!media) return;
    v.style.display = 'none';
    // Build a placeholder matching the card's style
    const ph = document.createElement('div');
    ph.className = 'media-placeholder-fallback media-ph-1';
    ph.innerHTML = `<svg class="ph-icon" viewBox="0 0 24 24"><polygon points="5,3 19,12 5,21"/></svg>`;
    media.insertBefore(ph, media.firstChild);
  });
});

document.querySelectorAll('.nav-links a').forEach(link => {
  link.addEventListener('click', () => { document.getElementById('navLinks').classList.remove('open'); });
});

window.addEventListener('resize', () => {
  if (window.innerWidth <= 900) { cursor.style.display='none'; ring.style.display='none'; }
  else { cursor.style.display='block'; ring.style.display='block'; }
});
</script>
</body>
</html>
